<main class="main">
  <div class="bar">
    <h2 class="bar--title">
      <span class="title--prefix">{{ filterBy }}</span> Products
    </h2>
    <div>
      <button mat-button [matMenuTriggerFor]="sortByMenu" class="btn">
        Filter by
        <mat-icon>expand_more</mat-icon>
      </button>
      <mat-menu #sortByMenu="matMenu">
        <button (click)="toggleFilterBy('all')" mat-menu-item>All</button>
        <button
          *ngFor="let category of categories"
          (click)="toggleFilterBy(category)"
          mat-menu-item
        >
          {{ category }}
        </button>
      </mat-menu>
    </div>
  </div>

  <div class="cards-container">
    <mat-spinner *ngIf="loading" class="spinner"></mat-spinner>
    <ng-container *ngIf="!loading">
      <app-card *ngFor="let product of products" [product]="product"></app-card>
    </ng-container>
  </div>
</main>
